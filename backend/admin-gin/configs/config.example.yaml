app:
  name: "my-app" # 应用名称
  version: "1.0.0" # 应用版本
  env: "dev" # 环境: dev / test / prod

server:
  port: 8080 # HTTP 服务端口
  mode: "debug" # Gin模式: debug(开发) / release(生产) / test
  read_timeout: 10 # 请求读取超时(秒)，防止慢连接攻击
  write_timeout: 10 # 响应写入超时(秒)

database:
  driver: "postgres" # 驱动类型
  host: "127.0.0.1" # 数据库地址
  port: 5432 # 数据库端口
  dbname: "my_db" # 数据库名
  user: "postgres" # 用户名
  password: "password" # 密码 (生产环境建议用环境变量覆盖)
  ssl_mode: "disable" # SSL模式: disable / require
  timezone: "Asia/Shanghai"
  # --- 连接池设置 (性能关键) ---
  max_idle_conns: 10 # 最大空闲连接数
  max_open_conns: 100 # 最大打开连接数
  conn_max_lifetime: 3600 # 连接最大存活时间(秒)

redis:
  addr: "127.0.0.1:6379" # Redis 地址
  password: "" # Redis 密码
  db: 0 # 建议固定使用 DB 0
  # --- 连接池设置 ---
  pool_size: 100 # 连接池大小
  min_idle_conns: 10 # 最小空闲连接
  dial_timeout: 5 # 连接超时(秒)

jwt:
  # 签名密钥，生产环境务必复杂且保密
  secret: "your_super_secret_key_change_me"
  issuer: "my-app" # 签发者标识
  # --- 双 Token 策略 ---
  access_expire: 900 # 短 Token 过期时间(秒): 15分钟 (用于鉴权)
  refresh_expire: 604800 # 长 Token 过期时间(秒): 7天 (用于刷新)

log:
  level: "debug" # 日志级别: debug/info/warn/error
  format: "json" # 输出格式: text(开发) / json(生产)
  director: "./logs" # 日志存放目录
  filename: "app.log" # 文件名
  max_size: 100 # 单个文件最大(MB)
  max_age: 7 # 文件保留天数
  compress: true # 是否开启 gzip 压缩

cors: # 跨域设置 (前后端分离必备)
  allow_origins:
    - "*" # 允许的域名，生产环境建议指定具体域名
